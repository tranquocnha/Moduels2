<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1 style="color: red">Xổ Số</h1>
<p>Bạn có tin mình là người may mắn không?</p>
<script>
    class XoSo {
        constructor(so1, so2, so3, so4, so5, so6) {
            this.so1 = so1;
            this.so2 = so2;
            this.so3 = so3;
            this.so4 = so4;
            this.so5 = so5;
            this.so6 = so6;
        }
        getSo1() {
            return this.so1;
        }
        getSo2() {
            return this.so2;
        }
        getSo3() {
            return this.so3;
        }
        getSo4() {
            return this.so4;
        }
        getSo5() {
            return this.so5;
        }
        getSo6() {
            return this.so6;
        }
        setSo1(so1) {
            this.so1 = so1;
        }
        setSo2(so2) {
            this.so2 = so2;
        }
        setSo3(so3) {
            this.so3 = so3;
        }
        setSo4(so4) {
            this.so4 = so4;
        }
        setSo5(so5) {
            this.so5 = so5;
        }
        setSo6(so6) {
            this.so6 = so6;
        }
    }
    let arrVeSO=[];
    let count =0;
    function chonXoSo() {
        let choose = prompt("Mời bạn nhập lựa chọn. VỚi 1 là nhập số, 2 là random");
        if(choose=="1"){
            let danhsach = '<select name="Chọn số" id="so1">\n';
            for (let i = 0; i <= 99; i++) {
                danhsach += '<option value="' + i + '">' + i + '</option>\n'
            }
            danhsach += '</select>';
            danhsach += '<select name="Chọn số" id="so2">\n';
            for (let i = 0; i <= 99; i++) {
                danhsach += '<option value="' + i + '">' + i + '</option>\n'
            }
            danhsach += '</select>';
            danhsach += '<select name="Chọn số" id="so3">\n';
            for (let i = 0; i <= 99; i++) {
                danhsach += '<option value="' + i + '">' + i + '</option>\n'
            }
            danhsach += '</select>';
            danhsach += '<select name="Chọn số" id="so4">\n';
            for (let i = 0; i <= 99; i++) {
                danhsach += '<option value="' + i + '">' + i + '</option>\n'
            }
            danhsach += '</select>';
            danhsach += '<select name="Chọn số" id="so5">\n';
            for (let i = 0; i <= 99; i++) {
                danhsach += '<option value="' + i + '">' + i + '</option>\n'
            }
            danhsach += '</select>';
            danhsach += '<select name="Chọn số" id="so6">\n';
            for (let i = 0; i <= 99; i++) {
                danhsach += '<option value="' + i + '">' + i + '</option>\n'
            }
            danhsach += '</select>';
            danhsach +="<button onclick='hoanThanhMuaVe()'>Mua vé</button>";
            document.write(danhsach);
        }else if(choose=="2"){
            let veSo = [];
            for(let i =0;i<6;i++){
                veSo[i] =Math.floor(Math.random()*99);
            }
            let danhsach = '<select name="Chọn số" id="so1">\n';
            danhsach += '<option value="' + veSo[0] + '">' + veSo[0] + '</option>\n';
            danhsach += '</select>';
            danhsach += '<select name="Chọn số" id="so2">\n';
            danhsach += '<option value="' + veSo[1] + '" >' + veSo[1] + '</option>\n';
            danhsach += '</select>';
            danhsach += '<select name="Chọn số" id="so3">\n';
            danhsach += '<option value="' + veSo[2] + '">' + veSo[2] + '</option>\n';
            danhsach += '</select>';
            danhsach += '<select name="Chọn số" id="so4">\n';
            danhsach += '<option value="' + veSo[3] + '">' + veSo[3] + '</option>\n';
            danhsach += '</select>';
            danhsach += '<select name="Chọn số" id="so5">\n';
            danhsach += '<option value="' + veSo[4] + '">' + veSo[4] + '</option>\n';
            danhsach += '</select>';
            danhsach += '<select name="Chọn số" id="so6">\n';
            danhsach += '<option value="' + veSo[5] + '">' + veSo[5] + '</option>\n';
            danhsach += '</select>';
            document.writeln(danhsach);
            arrVeSO.push(new XoSo(veSo[0],veSo[1],veSo[2],veSo[3],veSo[4],veSo[5]));
            display();
        }else{
            alert("Vui lòng nhập lại");
        }
        // count++;
    }
    function hoanThanhMuaVe() {
        let so1 = parseInt(document.getElementById('so1').value);
        let so2 = parseInt(document.getElementById('so2').value);
        let so3 = parseInt(document.getElementById('so3').value);
        let so4 = parseInt(document.getElementById('so4').value);
        let so5 = parseInt(document.getElementById('so5').value);
        let so6 = parseInt(document.getElementById('so6').value);
        arrVeSO.push(new XoSo(so1,so2,so3,so4,so5,so6));
        display();
    }
    function display() {
        document.body.innerText="";

        let result ="<p>Bạn có tin mình là người may mắn không?</p>" +
            "<h1 style=\"color: red\">Xổ Số</h1>" +
            "<input type='button' value='Mua Vé' onclick='chonXoSo()'>" +
            "<input type='button' value='Xem Kết Quả' onclick='ketqua()'><table style='border: 1px solid #1c1c1c;\n" +
            "    text-align: center;\n" +
            "    width: 30%;'>";
        for(let i =0; i<arrVeSO.length;i++) {
            result+="<tr style='    border: 1px solid #1c1c1c;\n" +
                "    text-align: left;'>";
            result+="<td style='    border: 1px solid #1c1c1c;\n" +
                "    text-align: left;'> "+arrVeSO[i].so1+"</td>";
            result+="<td style='    border: 1px solid #1c1c1c;\n" +
                "    text-align: left;'>"+arrVeSO[i].so2+"</td>";
            result+="<td style='    border: 1px solid #1c1c1c;\n" +
                "    text-align: left;'>"+arrVeSO[i].so3+"</td>";
            result+="<td style='    border: 1px solid #1c1c1c;\n" +
                "    text-align: left;'>"+arrVeSO[i].so4+"</td>";
            result+="<td style='    border: 1px solid #1c1c1c;\n" +
                "    text-align: left;'>"+arrVeSO[i].so5+"</td>";
            result+="<td style='    border: 1px solid #1c1c1c;\n" +
                "    text-align: left;'>"+arrVeSO[i].so6+"</td>";
            result+="</tr>";
        }
        result+="</table>";
        document.write(result);
    }
    function ketqua() {
        count++;
        console.log(count);
        let veSo = [];
        for(let i=1; i<=6; i++){
            veSo[i] = Math.floor(Math.random()*99)
        }
        let giaiDacBiet = new XoSo(veSo[1],veSo[2],veSo[3],veSo[4],veSo[5],veSo[6]);
        if (count > 4){
            alert("Bạn đã mua quá 4 lần")
        }else{
            for(let i =0;i<arrVeSO.length;i++){
                if (giaiDacBiet.so1 === arrVeSO[i].so1 && giaiDacBiet.so2 === arrVeSO[i].so2 && giaiDacBiet.so3 === arrVeSO[i].so3 &&
                    giaiDacBiet.so4 === arrVeSO[i].so4 && giaiDacBiet.so5 === arrVeSO[i].so5 && giaiDacBiet.so6 === arrVeSO[i].so6) {
                    alert("Chúc Mừng bạn đã trúng Giải Nhất +10.000.000VND")
                } else if (giaiDacBiet.so3 === arrVeSO[i].so3 && giaiDacBiet.so4 === arrVeSO[i].so4 && giaiDacBiet.so5 === arrVeSO[i].so5
                    && giaiDacBiet.so6 === arrVeSO[i].so6) {
                        alert("Chúc Mừng bạn đã trúng Giải Nhì +5.000.000VND")
                } else if (giaiDacBiet.so4 === arrVeSO[i].so4 && giaiDacBiet.so5 === arrVeSO[i].so5 && giaiDacBiet.so6 === arrVeSO[i].so6) {
                        alert("Chúc Mừng bạn đã trúng Giải Ba +1.000.000VND")
                } else {
                        alert("Chúc bạn may mắn lần sau")
                }
            }
        }
        document.write("Giải đặc biệt là: "+giaiDacBiet.so1+" "+giaiDacBiet.so2+" "+giaiDacBiet.so3+" "+giaiDacBiet.so4+" "+giaiDacBiet.so5+" "+giaiDacBiet.so6+" ");
        }

display()

</script>
</body>
</html>